# Техническое задание на разработку образовательной платформы

## 1. Общее описание
Образовательная платформа для обучения программированию с интерактивными уроками, практическими заданиями и системой рейтинга. Уроки открываются последовательно по мере успешного прохождения предыдущих.

## 2. Функциональные требования

### 2.1 Пользователи системы

#### Администратор
- Управление уроками (создание, редактирование, удаление)
- Просмотр статистики успеваемости учеников
- Управление пользователями (блокировка, удаление)
- Создание и управление заданиями
- Настройка последовательности уроков

#### Ученик
- Регистрация на платформе (email, логин, пароль)
- Просмотр доступных уроков:
  - Открытые уроки (доступны для прохождения)
  - Закрытые уроки (откроются после успешного прохождения предыдущих)
- Выполнение практических заданий
- Отслеживание своего прогресса
- Общение в общем чате
- Просмотр своего рейтинга

### 2.2 Основные функции

#### Уроки
- Структурированные уроки с теоретическим материалом
- Практические задания к каждому уроку
- Прогресс прохождения уроков
- Система оценки выполнения заданий
- Последовательное открытие уроков:
  - Первый урок доступен сразу после регистрации
  - Следующие уроки открываются после успешного прохождения предыдущих
  - Визуальное отображение статуса урока (открыт/закрыт)
  - Информация о требованиях для открытия закрытых уроков

#### Задания
- Встроенный редактор кода
- Автоматическая проверка решений
- Возможность отправки кода на проверку
- Отображение результатов тестирования

#### Система рейтинга
- Начисление баллов за выполнение заданий:
  - Базовые баллы за успешное решение задачи
  - Дополнительные баллы за быстрое решение
  - Бонусные баллы за решение без ошибок
- Рейтинговая таблица учеников:
  - Общая таблица лидеров с лучшими пользователями
  - Сортировка по общему количеству баллов
  - Отображение прогресса за неделю/месяц
  - Информация о каждом участнике:
    - Имя пользователя
    - Общее количество баллов
    - Количество пройденных уроков
    - Количество решенных задач
    - Средний балл за задачи
- Достижения и награды:
  - Значки за прохождение уроков
  - Награды за высокий рейтинг
  - Специальные достижения
- История прогресса:
  - График изменения рейтинга
  - История набранных баллов
  - Статистика по дням/неделям/месяцам

#### Чат
- Общий чат для всех учеников
- Отправка сообщений
- Прикрепление файлов
- Уведомления о новых сообщениях

## 3. Технические требования

### 3.1 Фронтенд
- Адаптивный дизайн
- Современный пользовательский интерфейс
- Поддержка основных браузеров
- Встроенный редактор кода с подсветкой синтаксиса

### 3.2 Бэкенд
- Python 3.8+
- Flask
- SQLite (для разработки)
- REST API
- WebSocket для чата

### 3.3 Безопасность
- Аутентификация пользователей
- Защита от SQL-инъекций
- Валидация входных данных
- Шифрование паролей

## 4. Структура базы данных

### Users (Пользователи)
- id (PK)
- email (UNIQUE)
- username (UNIQUE)
- password_hash
- is_admin (BOOLEAN)
- created_at
- last_login
- is_active

### Lessons (Уроки)
- id (PK)
- title
- content
- created_at
- updated_at
- is_published
- order_number (порядковый номер урока)
- required_score (минимальный балл для открытия)

### UserLessons (Прогресс по урокам)
- id (PK)
- user_id (FK)
- lesson_id (FK)
- is_completed (BOOLEAN)
- score
- completed_at
- attempts_count

### Tasks (Задания)
- id (PK)
- lesson_id (FK)
- title
- description
- test_cases
- max_score
- created_at
- updated_at

### Solutions (Решения)
- id (PK)
- task_id (FK)
- user_id (FK)
- code
- score
- status
- created_at
- updated_at

### Messages (Сообщения)
- id (PK)
- user_id (FK)
- content
- created_at
- is_read

### UserStats (Статистика пользователей)
- id (PK)
- user_id (FK)
- total_score
- completed_lessons
- solved_tasks
- last_activity
- weekly_progress
- monthly_progress
- achievements

### Achievements (Достижения)
- id (PK)
- title
- description
- icon
- required_score
- created_at

### UserAchievements (Достижения пользователей)
- id (PK)
- user_id (FK)
- achievement_id (FK)
- earned_at

## 5. API Endpoints

### Аутентификация
- POST /api/auth/register - Регистрация нового пользователя
- POST /api/auth/login - Вход в систему
- POST /api/auth/logout - Выход из системы

### Уроки
- GET /api/lessons - Получение списка уроков
- GET /api/lessons/<id> - Получение урока по ID
- POST /api/lessons - Создание урока (только админ)
- PUT /api/lessons/<id> - Обновление урока (только админ)
- DELETE /api/lessons/<id> - Удаление урока (только админ)

### Задания
- GET /api/tasks - Получение списка заданий
- GET /api/tasks/<id> - Получение задания по ID
- POST /api/tasks - Создание задания (только админ)
- PUT /api/tasks/<id> - Обновление задания (только админ)
- DELETE /api/tasks/<id> - Удаление задания (только админ)

### Решения
- POST /api/solutions - Отправка решения
- GET /api/solutions/<id> - Получение решения по ID
- GET /api/solutions/user/<user_id> - Получение решений пользователя

### Чат
- GET /api/messages - Получение истории сообщений
- POST /api/messages - Отправка сообщения
- WebSocket /chat - Реальное время для чата

### Статистика
- GET /api/stats/user/<user_id> - Получение статистики пользователя
- GET /api/stats/rating - Получение рейтинга пользователей

## 6. Основные страницы

### Главная страница
- Описание платформы
- Кнопка регистрации/входа
- Основные возможности

### Личный кабинет ученика
- Список уроков с индикацией статуса:
  - Открытые уроки (доступны для прохождения)
  - Закрытые уроки (с указанием требований для открытия)
- Прогресс обучения
- Статистика и рейтинг
- Общий чат

### Личный кабинет администратора
- Управление уроками
- Управление заданиями
- Просмотр статистики
- Управление пользователями

### Страница урока
- Теоретический материал
- Практические задания
- Встроенный редактор кода
- Результаты выполнения

### Страница рейтинга
- Таблица лидеров:
  - Топ-10 пользователей
  - Информация о каждом участнике
  - Фильтрация по периодам (неделя/месяц/все время)
- Личный прогресс:
  - Текущая позиция в рейтинге
  - История изменений позиции
  - График набора баллов
- Достижения:
  - Список полученных достижений
  - Доступные для получения
  - Прогресс до следующего достижения

## 7. Требования к интерфейсу

### Общие требования
- Современный дизайн
- Адаптивная верстка
- Удобная навигация
- Поддержка темной темы

### Особые требования
- Встроенный редактор кода с подсветкой синтаксиса
- Интерактивные элементы для обучения
- Визуализация прогресса
- Уведомления о новых сообщениях

## 8. Этапы разработки

### Этап 1: Базовая функциональность
- Регистрация и аутентификация
- Базовый интерфейс
- Система уроков

### Этап 2: Расширенная функциональность
- Система заданий
- Редактор кода
- Чат

### Этап 3: Дополнительные функции
- Система рейтинга
- Статистика
- Оптимизация

## 9. Критерии приемки
- Работоспособность всех основных функций
- Успешное прохождение тестов
- Соответствие требованиям безопасности
- Положительные отзывы тестировщиков 